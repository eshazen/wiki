# LVMixer_RevA_Testing_1_24_20
## LVMixer Rev A testing 1/24/20

*Setup:* The attached photo shows the setup used for testing the LV Mixer. The BASYS3 FPGA connects to the ToF Adapter across its onboard PMOD connectors. The ToF adapter board then connects to the LV Mixer with a DB15 cable. The ToF Adapter is supplied with +5V, -6V, and +3.3V on an 8 pin mini-fit jr connector, these voltages are also carried across the DB15 to the LV Mixer. The ToF Adapter is also supplied with an offset voltage of -20V on a 2 pin mini fit jr connector. The LV Mixer is also supplied with a -2V peak to peak voltage through a BNC connector. <a href="http://gauss.bu.edu/svn/tof-system/Gallery/2020-01-24/setup.jpg"><img src="http://gauss.bu.edu/svn/tof-system/Gallery/2020-01-24/setup.jpg" width="15%"></a>
 * under these conditions the 5V supply drew ~250mA, the -6V supply drew ~250mA, and the 3.3V supply drew <10mA. No load was placed across the output of the LVMixer so the -20V offset supply drew no current.


*Control Signals:* The LV Mixer is driven by a single ECL control signal. This image shows the positive signal of the ECL input. when the ECL input is a logic 0 the output is set to the low edge and when the ECL input is a logic 1 the output is set to the high edge.[BR](BR.md)|On Signal|Output|
-------- --------- --- -- ----- -- ------ -- - ------ --- ------- ------- ---- ----- ----- --- -------- ------ -- --- --- ------ ---- --- --- ----- -- - ----- - --- ------ -- --- -- --- --- ---- --- ---- --- --- ----- -- - ----- - --- ------ -- --- -- --- ---- ----------------|-- ------|------|
|0|High|
|1|Low|
<a href="http://gauss.bu.edu/svn/tof-system/Gallery/2020-01-24/control.jpg"><img src="http://gauss.bu.edu/svn/tof-system/Gallery/2020-01-24/control.jpg" width="15%"></a>

*Output:* The following wave form was captured from the output of the LV Mixer[BR](BR.md)<a href="http://gauss.bu.edu/svn/tof-system/Gallery/2020-01-16/output.jpg"><img src="http://gauss.bu.edu/svn/tof-system/Gallery/2020-01-24/output.jpg" width="15%"></a>[BR](BR.md)Under the given testing conditions the output rests at -22V and switches to -20V when the input on signal is switched to a logic 1. The output was recorded with a 50ns rise time and a 200ns fall time.[BR](BR.md) <a href="http://gauss.bu.edu/svn/tof-system/Gallery/2020-01-24/rising_edge.jpg"><img src="http://gauss.bu.edu/svn/tof-system/Gallery/2020-01-24/rising_edge.jpg" width="15%"></a> <a href="http://gauss.bu.edu/svn/tof-system/Gallery/2020-01-24/falling_edge.jpg"><img src="http://gauss.bu.edu/svn/tof-system/Gallery/2020-01-24/falling_edge.jpg" width="15%"></a>

*User Notes:*Within this system there are four points of control: The input offset voltage, the input peak-peak voltage, and two potentiometers. The offset of the output moves 1:1 with the input offset voltage and the peak-peak voltage of the output also moves 1:1 with the input peak-peak voltage. It is important to note that adjusting the peak-peak input voltage only changes the value of the lower edge of the output.[BR](BR.md)[BR](BR.md)for example: imagine the upper edge of the output is at -19V, the lower edge of the output is at -21V, and the input peak-peak voltage is -2V. If the input peak-peak voltage is changed to -4V, then the upper edge of the output remains at -19V and the lower edge of the output drops to -23V. *The upper edge of the output remains fixed independent of the peak-peak voltage.*[BR](BR.md)[BR](BR.md)The two potentiometers are used to tune the offset and peak to peak of the output. RV1 (connected to the emitter of Q4, or directly left to the RevA label on the board) adjusts the offset. of the output and RV2 (in series with R24 connected to U3, or directly bellow the RevA label on the board) adjusts the peak-peak voltage of the output. It is recommended that RV1 is tuned so the upper edge of the output is fixed at the same value as the offset voltage supplied to the system and that RV2 is tuned so that the drop from the upper to lower edge of the output is the same as the peak-peak voltage supplied. This setup ensures that the user is able to read their power supplies and accurately record the position of both edges of the output waveform. Aligning the waveform to be centered at specific input voltages is a poor idea because any adjustments to the input voltages will also require adjustments to both potentiometers to keep the waveform centered.
