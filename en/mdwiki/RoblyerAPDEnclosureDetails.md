# RoblyerAPDEnclosureDetails
Back to [RoblyerAPDTest](RoblyerAPDTest.md)

### Large Silver Shielded APD Enclosure

This [box](http://ohm.bu.edu/~tnadov/datasheets/boxes/ANS-3817.pdf)


### Black Shielded APD Box

This box mounts any APD amplifier board inside of a [small shielded box](http://ohm.bu.edu/~tnadov/datasheets/boxes/ANS-3813.pdf)


### Original Aluminum Enclosure

--External Design--

The APD testing device is a metal box with dimensions 4" by 6" by 4.8" and stands on four quarter inch high standoffs. The front of the box has two open sockets into which APDs may be inserted. Facing the front, the left socket receives a [H5 Series Silicon and InGaAs-APD Receiver](http://ohm.bu.edu/~tnadov/datasheets/APD_datasheets/APD_reciever.pdf) in a 6 pin T0-5 package. The right socket can receive either a [S6045-05 APD](http://ohm.bu.edu/~tnadov/datasheets/APD_datasheets/APD_S6045.pdf) in a 3 pin TO-5 package, a [S8890-30 APD](http://ohm.bu.edu/~tnadov/datasheets/APD_datasheets/APD_s8890.pdf) in a 3 pin TO-8 package, or a [S11519-30 APD](http://ohm.bu.edu/~tnadov/datasheets/APD_datasheets/APD_s11519.pdf) in a 3 pin TO-5 package. The rear contains a [socket](http://ohm.bu.edu/~tnadov/datasheets/HVPS_datasheets/SMT_connector.pdf) for a [6V modified barrel jack power supply](http://ohm.bu.edu/~tnadov/datasheets/HVPS_datasheets/6_W_wall_plug.pdf) which is currently covered with copper tape. It should be noted that if this socket is reopened, a rubber grommet should be inserted into the hole to avoid creating a short between the cladding of the barrel jack and the grounded metal case on insertion. To the right of the power supply jack is a port for a Mini-B USB cable. A [command line interface](http://ohm.bu.edu/cgi-bin/edf/APDHighVoltageFirmware)

--Internal Design--

Inside the box are three printed circuit boards, a battery pack, and a handful of wires connecting these elements together. Two of the three PCBs are mounted to the inside front of the box. The smaller board is the APD receiver breakout board, which converts the differential signal from the receiver to an unbalanced signal using a [balun](http://ohm.bu.edu/~tnadov/datasheets/APD_board_datasheets/balun.pdf) and outputs the signal from a [SMA connector](http://ohm.bu.edu/~tnadov/datasheets/APD_board_datasheets/sma_coaxial.pdf). The larger PCB mounted on the side is the APD amplifier board, which amplifies the output of the APD by 40dB by passing it through two [Hittite gain block amplifiers](http://ohm.bu.edu/~tnadov/datasheets/APD_board_datasheets/gain_block_amp.pdf). Like the first board, the signal is outputted through a [SMA connector](http://ohm.bu.edu/~tnadov/datasheets/APD_board_datasheets/sma_coaxial.pdf). Finally, the PCB mounted to the floor of the inside of the high voltage generator. It consists of a [ATTINY87 microcontroller](http://ohm.bu.edu/~tnadov/datasheets/HVPS_datasheets/attiny87.pdf), which communicates though UART with a Sparkfun [FT232RL USB to Serial](https://www.sparkfun.com/products/718) board which in turn communicates serially through USB to a connected PC. This communication allows the user to set the desired bias voltage on the APD. The microcontroller also communicates through SPI to a [MCP4921 DAC](http://ohm.bu.edu/~tnadov/datasheets/HVPS_datasheets/DAC.pdf) which sets a input voltage to the [Q05-5 DC/HVDC Converter](http://ohm.bu.edu/~tnadov/datasheets/HVPS_datasheets/DC_HVDC_converter.pdf) which outputs the high voltage signal. This signal is then divided and measured by a ADC on the microcontroller as part of a control loop to set a precise voltage. Other features on the board include sockets for attaching a thermistor for temperature regulation, a [BHS103 N-MOSFET transistor](http://ohm.bu.edu/~tnadov/datasheets/HVPS_datasheets/transistor.pdf)

--Internal Wiring--

5V DC is provided as power to both the APD receiver board and the APD amplifier board through a yellow cable which can be shifted from one to the other.The larger side of this cable plugs into a three pin 0.1" spaced header located on the side of the high voltage generator board and the other plugs into a two pin 0.1" spaced header on either of the APD boards. The high voltage is brought to the APD board in a similar way through another yellow cable that is identical on both sides. All three boards have a three pin 0.1" spaced header with the middle pin cut out that can be connected with this second cable. Connecting the aforementioned 3 pin header with its middle pin cut out on the HV board to one of the APD boards will allow the HV board to bias the APD on the chosen APD board. On both sides of both the power cable and the HV cable there is a small triangle over one of the sockets which designates that as the socket that should be connected to the positive pin on the header. It is possible to connect a oscilloscope or a network analyzer directly to one of the APD boards through the small hold drilled in the side of the box. However, for better shielding of the inside of the box and extra convenience an internal SMA cable can be run from the selected APD board to the SMA connector on the back of the box. All of the above wires are easily removable. Each battery pack has a positive and a negative wire extruding from it; the negative wire from the left pack has been soldered to the positive wire from the right, the negative wire from the right battery pack has been soldered directly to the ground plane on the HV board and the positive wire from the left battery pack has been soldered into the 6V power line on the HV board through the switch attached to back of the box, allowing the battery pack to be toggled on and off.

